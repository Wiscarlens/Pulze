/**
 * Driver's Permit Practice Questions Database
 * Questions organized by category with support for multiple states
 */

export interface Question {
  id: string;
  text: string;
  options: string[];
  correctIndex: number;
  explanation: string;
  handbookRef: string;
  categoryId: string;
  imageUrl?: string;
  states: string[]; // 'ALL' or specific state codes
  licenseTypes: ('car' | 'motorcycle' | 'cdl')[];
}

export const questions: Question[] = [
  // Road Signs Category
  {
    id: 'rs_001',
    text: 'What does a red octagonal sign mean?',
    options: ['Yield to other traffic', 'Stop completely', 'Slow down', 'No entry'],
    correctIndex: 1,
    explanation: 'A red octagonal (8-sided) sign always means STOP. You must come to a complete stop at the marked stop line, crosswalk, or before entering the intersection.',
    handbookRef: 'Chapter 4, Page 23',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_002',
    text: 'What does a triangular sign with the point facing down indicate?',
    options: ['Stop', 'Yield', 'Warning', 'Construction ahead'],
    correctIndex: 1,
    explanation: 'A triangular sign with the point facing down means YIELD. You must slow down and give the right-of-way to traffic on the road you are entering or crossing.',
    handbookRef: 'Chapter 4, Page 24',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_003',
    text: 'What color are warning signs typically?',
    options: ['Red', 'Green', 'Yellow', 'Blue'],
    correctIndex: 2,
    explanation: 'Warning signs are yellow with black letters or symbols. They alert you to conditions ahead that require caution, such as curves, intersections, or hazards.',
    handbookRef: 'Chapter 4, Page 25',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_004',
    text: 'What do diamond-shaped signs indicate?',
    options: ['Regulatory rules', 'Warnings about road conditions', 'Directions to destinations', 'Railroad crossings'],
    correctIndex: 1,
    explanation: 'Diamond-shaped signs are warning signs. They alert drivers to potential hazards or changes in road conditions ahead.',
    handbookRef: 'Chapter 4, Page 26',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_005',
    text: 'What does a round yellow sign with an "X" and "RR" indicate?',
    options: ['Restaurant ahead', 'Railroad crossing ahead', 'Rest area ahead', 'Road repair ahead'],
    correctIndex: 1,
    explanation: 'A round yellow sign with an "X" and "RR" warns of a railroad crossing ahead. Slow down and be prepared to stop.',
    handbookRef: 'Chapter 4, Page 28',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_006',
    text: 'What does a sign with a green background typically indicate?',
    options: ['Warning', 'Regulatory information', 'Guide or directional information', 'Construction zone'],
    correctIndex: 2,
    explanation: 'Green signs provide guide or directional information. They show destinations, distances, and directions on highways and roads.',
    handbookRef: 'Chapter 4, Page 30',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_007',
    text: 'What does a blue sign with white letters typically indicate?',
    options: ['Speed limit', 'Motorist services', 'Lane designation', 'Emergency information'],
    correctIndex: 1,
    explanation: 'Blue signs indicate motorist services such as rest areas, gas stations, food, lodging, and hospitals.',
    handbookRef: 'Chapter 4, Page 31',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_008',
    text: 'What do orange signs indicate?',
    options: ['School zone', 'Construction or work zone', 'Hospital nearby', 'Railroad crossing'],
    correctIndex: 1,
    explanation: 'Orange signs indicate construction zones, maintenance areas, or temporary traffic control. Slow down and watch for workers.',
    handbookRef: 'Chapter 4, Page 32',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_009',
    text: 'What does a pentagon-shaped sign indicate?',
    options: ['Railroad crossing', 'School zone', 'Hospital zone', 'Park area'],
    correctIndex: 1,
    explanation: 'Pentagon-shaped (5-sided) signs indicate school zones and school crossings. Be alert for children.',
    handbookRef: 'Chapter 4, Page 33',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rs_010',
    text: 'What does a white rectangular sign with black letters typically indicate?',
    options: ['Warning', 'Regulatory information (laws)', 'Directions', 'Construction'],
    correctIndex: 1,
    explanation: 'White rectangular signs with black letters are regulatory signs. They inform you about traffic laws such as speed limits, no parking zones, and turning restrictions.',
    handbookRef: 'Chapter 4, Page 22',
    categoryId: 'road_signs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Traffic Signals Category
  {
    id: 'ts_001',
    text: 'What should you do when approaching a steady yellow traffic light?',
    options: ['Speed up to clear the intersection', 'Stop if you can do so safely', 'Proceed with caution', 'Treat it as a stop sign'],
    correctIndex: 1,
    explanation: 'A steady yellow light means the signal is about to turn red. Stop if you can do so safely. If you cannot stop safely, proceed with caution.',
    handbookRef: 'Chapter 3, Page 15',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_002',
    text: 'What does a flashing red traffic light mean?',
    options: ['Slow down', 'Proceed with caution', 'Stop, then proceed when safe', 'Stop and wait for green'],
    correctIndex: 2,
    explanation: 'A flashing red light means the same as a stop sign. You must stop completely, then proceed when it is safe and you have the right-of-way.',
    handbookRef: 'Chapter 3, Page 16',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_003',
    text: 'What does a flashing yellow traffic light mean?',
    options: ['Stop and wait', 'Yield to pedestrians only', 'Proceed with caution', 'Speed up to clear'],
    correctIndex: 2,
    explanation: 'A flashing yellow light means proceed with caution. Slow down and be alert for cross traffic.',
    handbookRef: 'Chapter 3, Page 17',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_004',
    text: 'What should you do at a green arrow signal?',
    options: ['Yield to oncoming traffic', 'Turn only in the direction of the arrow', 'Wait for a solid green light', 'Come to a complete stop'],
    correctIndex: 1,
    explanation: 'A green arrow means you may turn only in the direction the arrow is pointing. Oncoming traffic has a red light, but you must still yield to pedestrians in the crosswalk.',
    handbookRef: 'Chapter 3, Page 18',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_005',
    text: 'Can you turn right on a red light?',
    options: ['Never', 'Yes, after a complete stop and if safe', 'Only during the day', 'Only if there is no traffic'],
    correctIndex: 1,
    explanation: 'In most states, you may turn right on red after making a complete stop and yielding to pedestrians and traffic. However, some intersections have "No Turn on Red" signs.',
    handbookRef: 'Chapter 3, Page 19',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_006',
    text: 'What does a white pedestrian signal with a walking figure mean?',
    options: ['Pedestrians may not cross', 'Pedestrians may begin crossing', 'Pedestrians must hurry', 'Crossing is prohibited'],
    correctIndex: 1,
    explanation: 'A white walking figure means pedestrians may begin crossing the street. You have the right-of-way as a pedestrian.',
    handbookRef: 'Chapter 3, Page 20',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_007',
    text: 'What does a flashing orange/red hand signal mean for pedestrians?',
    options: ['Start crossing immediately', 'Do not start crossing, finish if already crossing', 'Cross only with traffic', 'Stop where you are'],
    correctIndex: 1,
    explanation: 'A flashing hand signal means do not start crossing. If you are already in the crosswalk, finish crossing safely.',
    handbookRef: 'Chapter 3, Page 21',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_008',
    text: 'What should you do if a traffic signal is not working at an intersection?',
    options: ['Drive through quickly', 'Treat it as a four-way stop', 'Yield to the car on your left', 'Wait for a police officer'],
    correctIndex: 1,
    explanation: 'When a traffic signal is not working, treat the intersection as a four-way stop. All vehicles must stop and proceed in the order they arrived.',
    handbookRef: 'Chapter 3, Page 22',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_009',
    text: 'What does a red "X" above a traffic lane mean?',
    options: ['Lane is for emergency vehicles only', 'You cannot drive in that lane', 'Merge left', 'Reduce speed'],
    correctIndex: 1,
    explanation: 'A red "X" above a lane means the lane is closed to traffic. You must not drive in that lane.',
    handbookRef: 'Chapter 3, Page 23',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ts_010',
    text: 'What does a steady green arrow pointing downward above a lane mean?',
    options: ['Lane is closed', 'Lane is open for traffic', 'HOV lane only', 'Turn here'],
    correctIndex: 1,
    explanation: 'A green downward arrow above a lane indicates the lane is open and available for traffic traveling in your direction.',
    handbookRef: 'Chapter 3, Page 24',
    categoryId: 'traffic_signals',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Right of Way Category
  {
    id: 'row_001',
    text: 'At a four-way stop, who has the right-of-way?',
    options: ['The vehicle to your right', 'The largest vehicle', 'The vehicle that arrived first', 'The vehicle turning left'],
    correctIndex: 2,
    explanation: 'At a four-way stop, the vehicle that arrives first has the right-of-way. If two vehicles arrive at the same time, the vehicle on the right goes first.',
    handbookRef: 'Chapter 5, Page 35',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_002',
    text: 'When must you yield to pedestrians?',
    options: ['Only in marked crosswalks', 'Only when they have a walk signal', 'Whenever they are in a crosswalk (marked or unmarked)', 'Only at traffic signals'],
    correctIndex: 2,
    explanation: 'You must yield to pedestrians in both marked and unmarked crosswalks. An unmarked crosswalk exists at any intersection where roads meet.',
    handbookRef: 'Chapter 5, Page 36',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_003',
    text: 'What should you do when an emergency vehicle with flashing lights and sirens approaches?',
    options: ['Speed up to get out of the way', 'Stop where you are', 'Pull over to the right and stop', 'Continue at normal speed'],
    correctIndex: 2,
    explanation: 'When an emergency vehicle approaches with lights and sirens, pull over to the right side of the road and stop. Wait until it passes before proceeding.',
    handbookRef: 'Chapter 5, Page 38',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_004',
    text: 'Who has the right-of-way when entering a highway from an entrance ramp?',
    options: ['The entering vehicle', 'Traffic already on the highway', 'Whoever is faster', 'The vehicle in the right lane'],
    correctIndex: 1,
    explanation: 'Traffic already on the highway has the right-of-way. Vehicles entering must yield and adjust speed to merge safely.',
    handbookRef: 'Chapter 5, Page 40',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_005',
    text: 'When two vehicles approach an uncontrolled intersection at the same time, who goes first?',
    options: ['The vehicle on the left', 'The vehicle on the right', 'The faster vehicle', 'The vehicle going straight'],
    correctIndex: 1,
    explanation: 'When two vehicles reach an uncontrolled intersection at the same time, the vehicle on the right has the right-of-way.',
    handbookRef: 'Chapter 5, Page 41',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_006',
    text: 'Who has the right-of-way when a vehicle is turning left at an intersection?',
    options: ['The turning vehicle', 'Oncoming traffic going straight', 'Neither, they should proceed together', 'Whoever signals first'],
    correctIndex: 1,
    explanation: 'When turning left, you must yield to oncoming traffic going straight or turning right. Wait for a safe gap before completing your turn.',
    handbookRef: 'Chapter 5, Page 42',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_007',
    text: 'When must you yield to a school bus?',
    options: ['Only when children are visible', 'When its red lights are flashing and stop arm is extended', 'Only during school hours', 'Never on a highway'],
    correctIndex: 1,
    explanation: 'You must stop when a school bus has its red lights flashing and stop arm extended. This applies in both directions unless there is a physical divider.',
    handbookRef: 'Chapter 5, Page 45',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_008',
    text: 'What should you do at a yield sign?',
    options: ['Always stop', 'Slow down and give right-of-way to traffic', 'Speed up to merge quickly', 'Treat it like a stop sign'],
    correctIndex: 1,
    explanation: 'At a yield sign, slow down and be prepared to stop. Give the right-of-way to vehicles and pedestrians already in the intersection or approaching on the through road.',
    handbookRef: 'Chapter 5, Page 35',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_009',
    text: 'Who has the right-of-way in a roundabout?',
    options: ['Vehicles entering the roundabout', 'Vehicles already in the roundabout', 'The largest vehicle', 'Vehicles turning left'],
    correctIndex: 1,
    explanation: 'Vehicles already in the roundabout have the right-of-way. Yield to traffic from your left before entering.',
    handbookRef: 'Chapter 5, Page 48',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'row_010',
    text: 'When exiting a driveway, who has the right-of-way?',
    options: ['The vehicle exiting the driveway', 'Pedestrians and vehicles on the sidewalk/road', 'Whoever arrived first', 'The faster vehicle'],
    correctIndex: 1,
    explanation: 'When exiting a driveway, you must yield to all pedestrians on the sidewalk and all vehicles on the road.',
    handbookRef: 'Chapter 5, Page 50',
    categoryId: 'right_of_way',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Safe Driving Category
  {
    id: 'sd_001',
    text: 'What is the safe following distance in normal conditions?',
    options: ['1 second', '2-3 seconds', '4-5 seconds', '6 seconds'],
    correctIndex: 1,
    explanation: 'In normal conditions, maintain at least 2-3 seconds of following distance. Increase this distance in poor weather or when following large vehicles.',
    handbookRef: 'Chapter 6, Page 52',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_002',
    text: 'When should you use your headlights?',
    options: ['Only at night', 'Only in fog', 'From sunset to sunrise and when visibility is reduced', 'Only during heavy rain'],
    correctIndex: 2,
    explanation: 'Use headlights from sunset to sunrise, in fog, rain, smoke, or any condition that limits visibility to less than 500 feet. Some states require headlights whenever wipers are on.',
    handbookRef: 'Chapter 6, Page 55',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_003',
    text: 'What should you do before changing lanes?',
    options: ['Just use your mirrors', 'Turn on your signal and change immediately', 'Check mirrors, signal, check blind spot, then change', 'Slow down and change lanes quickly'],
    correctIndex: 2,
    explanation: 'Before changing lanes: check your mirrors, signal your intention, check your blind spot by looking over your shoulder, and then change lanes when safe.',
    handbookRef: 'Chapter 6, Page 58',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_004',
    text: 'How should you enter a curve?',
    options: ['Speed up before the curve', 'Brake in the curve', 'Slow down before entering, maintain speed through', 'Coast through the curve'],
    correctIndex: 2,
    explanation: 'Slow down before entering a curve, then maintain a steady speed through the curve. Braking in a curve can cause loss of control.',
    handbookRef: 'Chapter 6, Page 60',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_005',
    text: 'If your engine dies as you are driving on a curve, you should:',
    options: ['Try to restart the engine immediately', 'Pull over to the right side of the road', 'Hold your steering wheel tightly and keep your vehicle going straight', 'Slam on the brakes'],
    correctIndex: 1,
    explanation: 'If your engine dies while driving, steer to the right side of the road and brake gently to stop. Turn on your hazard lights to warn other drivers.',
    handbookRef: 'Chapter 6, Page 62',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_006',
    text: 'What is hydroplaning?',
    options: ['Driving too fast on ice', 'When tires lose contact with the road on wet pavement', 'Sliding on gravel', 'Skidding while braking'],
    correctIndex: 1,
    explanation: 'Hydroplaning occurs when tires ride on a layer of water and lose contact with the road. Reduce speed in wet conditions and avoid sudden braking or steering.',
    handbookRef: 'Chapter 6, Page 65',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_007',
    text: 'What is the proper hand position on the steering wheel?',
    options: ['10 and 2 o\'clock', '9 and 3 o\'clock or 8 and 4 o\'clock', '12 o\'clock only', 'One hand at 6 o\'clock'],
    correctIndex: 1,
    explanation: 'Modern recommendations suggest 9 and 3 o\'clock or 8 and 4 o\'clock positions. These positions provide good control and reduce injury from airbag deployment.',
    handbookRef: 'Chapter 6, Page 53',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_008',
    text: 'When passing a bicycle, how much space should you give?',
    options: ['6 inches', 'At least 3 feet', 'Just enough to fit', 'Same as passing a car'],
    correctIndex: 1,
    explanation: 'When passing a cyclist, maintain at least 3 feet of clearance. Many states have specific laws requiring this minimum distance.',
    handbookRef: 'Chapter 6, Page 68',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_009',
    text: 'What should you do if your brakes fail?',
    options: ['Turn off the engine immediately', 'Pump the brakes, downshift, use parking brake gradually', 'Jump out of the vehicle', 'Steer into oncoming traffic'],
    correctIndex: 1,
    explanation: 'If brakes fail: pump the brake pedal rapidly, downshift to lower gears, apply the parking brake gradually, and look for an escape route or use friction to slow down.',
    handbookRef: 'Chapter 6, Page 70',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'sd_010',
    text: 'When driving at night, you should:',
    options: ['Drive at the same speed as during the day', 'Reduce speed because stopping distance exceeds visibility', 'Use high beams at all times', 'Follow other cars more closely'],
    correctIndex: 1,
    explanation: 'At night, reduce your speed so you can stop within the distance lit by your headlights. Your stopping distance should not exceed your sight distance.',
    handbookRef: 'Chapter 6, Page 56',
    categoryId: 'safe_driving',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Alcohol & Drugs Category
  {
    id: 'ad_001',
    text: 'What is the legal Blood Alcohol Concentration (BAC) limit for drivers 21 and over in most states?',
    options: ['0.05%', '0.08%', '0.10%', '0.12%'],
    correctIndex: 1,
    explanation: 'The legal BAC limit for drivers 21 and over is 0.08% in all 50 states. However, you can still be arrested for impaired driving at lower levels.',
    handbookRef: 'Chapter 7, Page 75',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_002',
    text: 'What is "implied consent"?',
    options: ['Agreeing to follow traffic laws', 'Automatic agreement to BAC testing when driving', 'Consent to vehicle searches', 'Agreement to pull over for police'],
    correctIndex: 1,
    explanation: 'Implied consent means that by driving on public roads, you have automatically agreed to submit to chemical testing (breath, blood, or urine) if suspected of DUI.',
    handbookRef: 'Chapter 7, Page 76',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_003',
    text: 'What happens if you refuse a BAC test?',
    options: ['Nothing', 'Automatic license suspension', 'Only a warning', 'A small fine'],
    correctIndex: 1,
    explanation: 'Refusing a BAC test typically results in automatic license suspension (usually 6-12 months) and can be used as evidence against you in court.',
    handbookRef: 'Chapter 7, Page 77',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_004',
    text: 'What is the BAC limit for drivers under 21?',
    options: ['0.08%', '0.02% or zero tolerance', '0.05%', 'Same as adults'],
    correctIndex: 1,
    explanation: 'Most states have zero tolerance laws for underage drivers, with BAC limits of 0.00% to 0.02%. Any detectable alcohol can result in arrest.',
    handbookRef: 'Chapter 7, Page 78',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_005',
    text: 'How does alcohol affect driving ability?',
    options: ['Improves reaction time', 'Impairs judgment, coordination, and reaction time', 'Only affects vision', 'Has no effect until 0.08% BAC'],
    correctIndex: 1,
    explanation: 'Alcohol impairs judgment, coordination, reaction time, and concentration at any level. Effects begin with the first drink.',
    handbookRef: 'Chapter 7, Page 79',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_006',
    text: 'Can prescription medications affect your ability to drive?',
    options: ['No, only illegal drugs', 'Yes, some can impair driving', 'Only if taken with alcohol', 'Only painkillers'],
    correctIndex: 1,
    explanation: 'Yes, many prescription medications can impair driving ability, including antihistamines, sleep aids, and pain medications. Check warning labels and ask your doctor.',
    handbookRef: 'Chapter 7, Page 80',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_007',
    text: 'What is the only way to sober up?',
    options: ['Drinking coffee', 'Taking a cold shower', 'Time', 'Eating food'],
    correctIndex: 2,
    explanation: 'Time is the only thing that will sober you up. Your liver metabolizes about one standard drink per hour. Coffee, food, and cold showers do not speed up this process.',
    handbookRef: 'Chapter 7, Page 81',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_008',
    text: 'What are the penalties for a first-time DUI conviction?',
    options: ['Only a warning', 'Fines, license suspension, possible jail time', 'Just community service', 'A small fine only'],
    correctIndex: 1,
    explanation: 'First-time DUI penalties typically include fines ($500-$2000+), license suspension (90 days to 1 year), possible jail time, probation, and mandatory alcohol education classes.',
    handbookRef: 'Chapter 7, Page 82',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_009',
    text: 'What is a DUI/DWI?',
    options: ['Driving Under Inspection', 'Driving Under the Influence / Driving While Intoxicated', 'Driver Uninsured', 'Dangerous Urban Interstate'],
    correctIndex: 1,
    explanation: 'DUI stands for Driving Under the Influence and DWI stands for Driving While Intoxicated. Both refer to operating a vehicle while impaired by alcohol or drugs.',
    handbookRef: 'Chapter 7, Page 74',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ad_010',
    text: 'What is the BAC limit for commercial drivers (CDL)?',
    options: ['0.08%', '0.04%', '0.02%', 'Same as regular drivers'],
    correctIndex: 1,
    explanation: 'Commercial drivers have a lower BAC limit of 0.04% while operating a commercial vehicle. They can also be disqualified for refusing testing.',
    handbookRef: 'Chapter 7, Page 83',
    categoryId: 'alcohol_drugs',
    states: ['ALL'],
    licenseTypes: ['cdl'],
  },

  // Parking Rules Category
  {
    id: 'pr_001',
    text: 'How far from a fire hydrant must you park?',
    options: ['5 feet', '10 feet', '15 feet', '20 feet'],
    correctIndex: 2,
    explanation: 'You must park at least 15 feet from a fire hydrant to allow fire trucks access in emergencies.',
    handbookRef: 'Chapter 8, Page 85',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_002',
    text: 'What does a red curb mean?',
    options: ['15-minute parking', 'No parking at any time', 'Loading zone', 'Handicap parking'],
    correctIndex: 1,
    explanation: 'A red curb means no stopping, standing, or parking at any time. Fire lanes are typically marked with red curbs.',
    handbookRef: 'Chapter 8, Page 86',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_003',
    text: 'What does a yellow curb mean?',
    options: ['No parking', 'Loading zone for passengers or freight', 'Time-limited parking', 'Reserved parking'],
    correctIndex: 1,
    explanation: 'A yellow curb indicates a loading zone. You may stop to load or unload passengers or freight but cannot leave your vehicle.',
    handbookRef: 'Chapter 8, Page 87',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_004',
    text: 'What does a white curb mean?',
    options: ['No parking', 'Loading zone for passengers only', 'Time-limited parking', '30-minute parking'],
    correctIndex: 1,
    explanation: 'A white curb indicates a passenger loading zone. You may stop to pick up or drop off passengers but cannot park.',
    handbookRef: 'Chapter 8, Page 88',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_005',
    text: 'What does a blue curb mean?',
    options: ['No parking', 'Loading zone', 'Handicap parking only', 'Police vehicles only'],
    correctIndex: 2,
    explanation: 'A blue curb indicates parking reserved for people with disabilities who have a valid placard or license plate.',
    handbookRef: 'Chapter 8, Page 89',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_006',
    text: 'When parking uphill with a curb, which way should you turn your wheels?',
    options: ['Toward the curb', 'Away from the curb', 'Keep them straight', 'It doesn\'t matter'],
    correctIndex: 1,
    explanation: 'When parking uphill with a curb, turn your wheels away from the curb (to the left). If your car rolls, it will roll into the curb instead of into traffic.',
    handbookRef: 'Chapter 8, Page 90',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_007',
    text: 'When parking downhill, which way should you turn your wheels?',
    options: ['Away from the curb', 'Toward the curb', 'Keep them straight', 'It doesn\'t matter'],
    correctIndex: 1,
    explanation: 'When parking downhill (with or without a curb), turn your wheels toward the curb (to the right). If your car rolls, it will roll into the curb.',
    handbookRef: 'Chapter 8, Page 91',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_008',
    text: 'How close can you park to a crosswalk?',
    options: ['5 feet', '15 feet', '20 feet', '25 feet'],
    correctIndex: 2,
    explanation: 'You must park at least 20 feet from a crosswalk at an intersection to maintain visibility for pedestrians and drivers.',
    handbookRef: 'Chapter 8, Page 92',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_009',
    text: 'How close can you park to a stop sign?',
    options: ['15 feet', '25 feet', '30 feet', '50 feet'],
    correctIndex: 2,
    explanation: 'You must park at least 30 feet from a stop sign to ensure the sign is visible to approaching drivers.',
    handbookRef: 'Chapter 8, Page 93',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'pr_010',
    text: 'What does a green curb mean?',
    options: ['No parking', 'Time-limited parking (check signs for duration)', 'Loading zone', 'Taxi stand'],
    correctIndex: 1,
    explanation: 'A green curb indicates time-limited parking. Check posted signs for the specific time limit, typically 10-30 minutes.',
    handbookRef: 'Chapter 8, Page 94',
    categoryId: 'parking_rules',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Special Situations Category
  {
    id: 'ss_001',
    text: 'What is the typical speed limit in a school zone when children are present?',
    options: ['15 mph', '25 mph', '20 mph', '30 mph'],
    correctIndex: 0,
    explanation: 'Most school zones have a speed limit of 15-25 mph when children are present. Always watch for school zone signs and flashing lights.',
    handbookRef: 'Chapter 9, Page 95',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_002',
    text: 'What should you do at a railroad crossing if the gates are down?',
    options: ['Drive around them if no train is coming', 'Stop and wait for gates to rise completely', 'Back up and find another route', 'Honk and proceed slowly'],
    correctIndex: 1,
    explanation: 'Always stop and wait for railroad crossing gates to rise completely before crossing. Never drive around lowered gates.',
    handbookRef: 'Chapter 9, Page 97',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_003',
    text: 'How should you approach a vehicle with a funeral flag?',
    options: ['Pass quickly', 'Yield the right-of-way to the funeral procession', 'Honk to alert them', 'Cut into the procession if needed'],
    correctIndex: 1,
    explanation: 'Yield the right-of-way to funeral processions. Do not cut through, pass, or join the procession. Wait for all vehicles to pass.',
    handbookRef: 'Chapter 9, Page 98',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_004',
    text: 'What should you do if you see a stopped school bus with flashing red lights?',
    options: ['Slow down and pass carefully', 'Stop and wait until lights stop flashing', 'Pass only if on a divided highway', 'Honk to alert the children'],
    correctIndex: 1,
    explanation: 'When a school bus has flashing red lights and the stop arm is extended, you must stop in both directions (unless on a divided highway) and wait until the lights stop flashing.',
    handbookRef: 'Chapter 9, Page 99',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_005',
    text: 'What should you do when approaching a blind pedestrian with a white cane?',
    options: ['Honk to let them know you\'re there', 'Stop and yield completely', 'Pass slowly', 'Flash your lights'],
    correctIndex: 1,
    explanation: 'When you see a pedestrian with a white cane or guide dog, stop and yield completely. They have the right-of-way at all times.',
    handbookRef: 'Chapter 9, Page 100',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_006',
    text: 'What should you do if your vehicle stalls on railroad tracks?',
    options: ['Try to restart the car', 'Get out and move away from the tracks immediately', 'Call for help', 'Wave at oncoming trains'],
    correctIndex: 1,
    explanation: 'If your vehicle stalls on railroad tracks, get everyone out immediately and move away from the tracks at a 45-degree angle in the direction of the oncoming train.',
    handbookRef: 'Chapter 9, Page 101',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_007',
    text: 'What should you do in a work zone?',
    options: ['Speed up to get through quickly', 'Follow posted speed limits and signs', 'Ignore flaggers if no workers are visible', 'Pass other vehicles to avoid delays'],
    correctIndex: 1,
    explanation: 'In work zones, follow all posted speed limits and signs, obey flaggers, merge early, and be patient. Fines are often doubled in work zones.',
    handbookRef: 'Chapter 9, Page 102',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_008',
    text: 'When can you pass a stopped school bus on a divided highway?',
    options: ['Never', 'If you\'re on the opposite side of a physical barrier', 'Only during non-school hours', 'If there\'s no traffic'],
    correctIndex: 1,
    explanation: 'On a divided highway with a physical barrier (like a median), vehicles on the opposite side are not required to stop for a school bus. However, always proceed with caution.',
    handbookRef: 'Chapter 9, Page 103',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_009',
    text: 'What does the "Move Over" law require?',
    options: ['Move to the passing lane on highways', 'Slow down and move over for emergency vehicles stopped on the roadside', 'Move for faster traffic', 'Move for slower traffic'],
    correctIndex: 1,
    explanation: 'The Move Over law requires drivers to slow down and move over (if safe) when passing emergency vehicles, tow trucks, or construction vehicles stopped on the roadside with lights flashing.',
    handbookRef: 'Chapter 9, Page 104',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'ss_010',
    text: 'What should you do if an aggressive driver confronts you?',
    options: ['Get out and confront them', 'Avoid eye contact and do not engage', 'Speed up to get away', 'Honk repeatedly'],
    correctIndex: 1,
    explanation: 'If confronted by an aggressive driver, avoid eye contact, do not engage, stay in your vehicle, and drive to a safe public place or police station if followed.',
    handbookRef: 'Chapter 9, Page 105',
    categoryId: 'special_situations',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Vehicle Equipment Category
  {
    id: 've_001',
    text: 'When must you use your turn signals?',
    options: ['Only when other cars are around', 'Every time you turn or change lanes', 'Only during the day', 'Only on highways'],
    correctIndex: 1,
    explanation: 'You must use turn signals every time you turn, change lanes, or pull away from a curb. Signal at least 100 feet before turning in urban areas.',
    handbookRef: 'Chapter 10, Page 107',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_002',
    text: 'How far ahead should your headlights allow you to see?',
    options: ['100 feet', '200 feet', 'At least 350-500 feet', '750 feet'],
    correctIndex: 2,
    explanation: 'Low beams should illuminate at least 150-200 feet ahead, and high beams should illuminate 350-500 feet ahead.',
    handbookRef: 'Chapter 10, Page 108',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_003',
    text: 'When should you use high beams?',
    options: ['In city traffic', 'When following another vehicle closely', 'On open roads with no oncoming traffic', 'In fog'],
    correctIndex: 2,
    explanation: 'Use high beams on open roads with no oncoming traffic. Switch to low beams when within 500 feet of an oncoming vehicle or 200-300 feet when following another vehicle.',
    handbookRef: 'Chapter 10, Page 109',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_004',
    text: 'What should you check before driving?',
    options: ['Only the gas level', 'Only the mirrors', 'Tires, lights, mirrors, signals, brakes, and fluid levels', 'Nothing if the car is new'],
    correctIndex: 2,
    explanation: 'Before driving, check tires (pressure and condition), lights, mirrors, signals, brakes, and fluid levels. Regular checks prevent accidents and breakdowns.',
    handbookRef: 'Chapter 10, Page 110',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_005',
    text: 'What is the purpose of anti-lock brakes (ABS)?',
    options: ['To stop faster', 'To prevent wheel lockup and maintain steering control', 'To make brakes last longer', 'To reduce brake noise'],
    correctIndex: 1,
    explanation: 'Anti-lock brakes prevent wheel lockup during hard braking, allowing you to maintain steering control. With ABS, apply firm, steady pressureâ€”do not pump the brakes.',
    handbookRef: 'Chapter 10, Page 111',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_006',
    text: 'When should you use your horn?',
    options: ['To express frustration', 'To greet friends', 'To warn others of danger', 'At all traffic lights'],
    correctIndex: 2,
    explanation: 'Use your horn to warn others of danger, not to express frustration. Inappropriate horn use is illegal in many areas and can startle other drivers.',
    handbookRef: 'Chapter 10, Page 112',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_007',
    text: 'What is the purpose of blind spot mirrors?',
    options: ['To see behind you better', 'To see areas not visible in regular mirrors', 'To make parking easier', 'To look at passengers'],
    correctIndex: 1,
    explanation: 'Blind spot mirrors help you see areas that regular mirrors cannot cover. However, you should still turn your head to check blind spots before changing lanes.',
    handbookRef: 'Chapter 10, Page 113',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_008',
    text: 'How often should you check your tire pressure?',
    options: ['Once a year', 'At least once a month', 'Only before long trips', 'Never, tires adjust automatically'],
    correctIndex: 1,
    explanation: 'Check tire pressure at least once a month and before long trips. Properly inflated tires improve fuel economy, handling, and tire life.',
    handbookRef: 'Chapter 10, Page 114',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_009',
    text: 'What should you do if your headlights fail at night?',
    options: ['Continue driving slowly', 'Turn on parking lights and pull over safely', 'Flash your high beams', 'Speed up to reach your destination'],
    correctIndex: 1,
    explanation: 'If your headlights fail, turn on your parking lights, hazard lights, or any available lights and pull off the road safely as soon as possible.',
    handbookRef: 'Chapter 10, Page 115',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 've_010',
    text: 'What is the minimum tread depth for tires?',
    options: ['1/16 inch', '2/32 inch', '4/32 inch', '6/32 inch'],
    correctIndex: 1,
    explanation: 'The legal minimum tire tread depth is 2/32 inch in most states. Use the penny test: insert a penny head-down; if you can see Lincoln\'s entire head, the tread is too worn.',
    handbookRef: 'Chapter 10, Page 116',
    categoryId: 'vehicle_equipment',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },

  // Road Markings Category
  {
    id: 'rm_001',
    text: 'What does a solid yellow line on your side of the road mean?',
    options: ['You may pass with caution', 'No passing allowed', 'Two-way traffic', 'Lane closed ahead'],
    correctIndex: 1,
    explanation: 'A solid yellow line on your side means no passing. You must not cross this line to pass other vehicles.',
    handbookRef: 'Chapter 11, Page 118',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_002',
    text: 'What does a broken yellow line mean?',
    options: ['No passing', 'Passing allowed if safe', 'Edge of road', 'Bike lane'],
    correctIndex: 1,
    explanation: 'A broken yellow line means you may pass if it is safe to do so and you can complete the pass before reaching a solid line.',
    handbookRef: 'Chapter 11, Page 119',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_003',
    text: 'What do white lane lines indicate?',
    options: ['Traffic moving in opposite directions', 'Traffic moving in the same direction', 'No passing zone', 'Construction zone'],
    correctIndex: 1,
    explanation: 'White lane lines separate lanes of traffic moving in the same direction. Broken white lines allow lane changes; solid white lines discourage lane changes.',
    handbookRef: 'Chapter 11, Page 120',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_004',
    text: 'What does a double solid yellow line mean?',
    options: ['Passing allowed in both directions', 'No passing from either direction', 'One-way traffic', 'Construction zone'],
    correctIndex: 1,
    explanation: 'Double solid yellow lines mean no passing from either direction. Vehicles traveling in both directions must not cross these lines to pass.',
    handbookRef: 'Chapter 11, Page 121',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_005',
    text: 'What does a shared center turn lane (two-way left turn lane) look like?',
    options: ['Solid white lines', 'Double yellow lines with broken inner lines', 'Solid yellow on both sides', 'White dashed lines'],
    correctIndex: 1,
    explanation: 'A shared center turn lane has solid yellow lines on the outside and broken yellow lines on the inside. It is used by traffic from both directions to make left turns.',
    handbookRef: 'Chapter 11, Page 122',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_006',
    text: 'What do white arrows on the pavement indicate?',
    options: ['Speed limit', 'Direction you must travel', 'Pedestrian crossing', 'Stop here'],
    correctIndex: 1,
    explanation: 'White arrows on the pavement indicate the direction(s) you must travel in that lane. If you are in a turn-only lane, you must turn.',
    handbookRef: 'Chapter 11, Page 123',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_007',
    text: 'What does a solid white line at an intersection mean?',
    options: ['Keep moving', 'Stop line - stop behind this line', 'Yield area', 'Pedestrian area only'],
    correctIndex: 1,
    explanation: 'A solid white line at an intersection is a stop line. You must stop behind this line when required to stop at a sign or signal.',
    handbookRef: 'Chapter 11, Page 124',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_008',
    text: 'What do painted curb markings (like diagonal lines) indicate?',
    options: ['Parking area', 'No driving zone - do not drive on these areas', 'Bike lane', 'Turn lane'],
    correctIndex: 1,
    explanation: 'Painted diagonal lines or crosshatching indicate a buffer zone or no driving area. Do not drive on these areas.',
    handbookRef: 'Chapter 11, Page 125',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_009',
    text: 'What does "XING" painted on the road mean?',
    options: ['Exit here', 'Crossing ahead', 'X intersection', 'Wrong way'],
    correctIndex: 1,
    explanation: '"XING" painted on the road means crossing ahead. Common examples include PED XING (pedestrian crossing) and RR XING (railroad crossing).',
    handbookRef: 'Chapter 11, Page 126',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
  {
    id: 'rm_010',
    text: 'What do rumble strips indicate?',
    options: ['Construction zone', 'Edge of road or lane - alert driver if drifting', 'Bike lane', 'Speed bump ahead'],
    correctIndex: 1,
    explanation: 'Rumble strips are raised or grooved patterns on the road edge or between lanes that create noise and vibration to alert drivers if they drift out of their lane.',
    handbookRef: 'Chapter 11, Page 127',
    categoryId: 'road_markings',
    states: ['ALL'],
    licenseTypes: ['car', 'motorcycle', 'cdl'],
  },
];

/**
 * Get questions by category
 */
export const getQuestionsByCategory = (categoryId: string): Question[] => {
  return questions.filter(q => q.categoryId === categoryId);
};

/**
 * Get questions for a specific state
 */
export const getQuestionsForState = (stateCode: string): Question[] => {
  return questions.filter(q => q.states.includes('ALL') || q.states.includes(stateCode));
};

/**
 * Get questions for a specific license type
 */
export const getQuestionsForLicenseType = (
  licenseType: 'car' | 'motorcycle' | 'cdl'
): Question[] => {
  return questions.filter(q => q.licenseTypes.includes(licenseType));
};

/**
 * Get random questions for a practice test
 */
export const getRandomQuestions = (count: number, categoryId?: string): Question[] => {
  let pool = categoryId ? getQuestionsByCategory(categoryId) : questions;
  const shuffled = [...pool].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, Math.min(count, shuffled.length));
};

/**
 * Get question by ID
 */
export const getQuestionById = (id: string): Question | undefined => {
  return questions.find(q => q.id === id);
};

export default questions;
